import Image from 'next/image'
import dynamic from 'next/dynamic'
import Zoom from 'react-medium-image-zoom'
import SetupCli from '@/images/screenshots/setup-cli.png'
import SetupE2EE from '@/images/screenshots/setup-e2ee.png'
import InjectAndStartApp from '@/images/screenshots/inject-and-start-app.png'
import CreateFirstProject from '@/images/screenshots/create-first-project.png'
import DownloadPrivateKey from '@/images/screenshots/download-private-key.png'
import DragAndDropSecrets from '@/images/screenshots/drag-and-drop-secrets.png'

export const description =
  'This guide will get you all set up and ready to use the Envless in no time.'

# Quickstart

This guide will get you all set up and ready to use the Envless in no time. We will cover following topics: {{ className: 'lead' }}

- [Signup for an account](#signup-for-an-account)
- [Create your first project](#create-your-first-project)
- [Download your private key](#download-your-private-key)
- [Install and setup Envless CLI](#install-and-setup-envless-cli)
- [Secure & copy your private key](#secure-and-copy-your-private-key)
- [Setup end to end encryption](#setup-end-to-end-encryption)
- [Upload or add your app secrets](#upload-or-add-your-app-secrets)
- [Inject secrets and start your app](#inject-secrets-and-start-your-app)

## Signup for an account

If you haven't already, you will need to [sign up for an account](https://go.envless.dev/signup) to get started with the Envless. You can sign up for free and get started right away. You can signup using your email address, using your GitHub or GitLab account.

## Create your first project

{/* Reword following paragraph */}
Go to [projects](https://go.envless.dev/projects) page and create your first project. You will need to provide a name for your project.

<Zoom>
  <Image
    src={CreateFirstProject}
    alt="Create your first project"
    width={1200}
    height={600}
    loading={'lazy'}
  />
</Zoom>

## Download your private key

After you create your first project, you will be asked to download the Private key. This private key will be used to encrypt and decrypt your environment variables. We will walk you through the process of securing your private key in the next section.

<Zoom>
  <Image
    src={DownloadPrivateKey}
    alt="Download your private key"
    width={1200}
    height={600}
    loading={'lazy'}
  />
</Zoom>

## Install and setup Envless CLI

After you download your private key, or when you login to your account using a new device, you will asked to install and setup Envless CLI. Envless CLI is a command line tool that will help you to encrypt and decrypt your environment variables. You can install Envless CLI using following commands:

<CodeGroup title="Install Envless CLI">
```bash {{ title: 'Node', language: 'bash' }}
# NPM
npm install -g envless
# Yarn
yarn global add envless
# PNPM
pnpm add -g envless
```

```bash {{ title: 'MacOS', language: 'bash' }}
brew install envless
```

```bash {{ title: 'Windows', language: 'bash' }}
brew install envless
```

```bash {{ title: 'Alpine', language: 'bash' }}
brew install envless
```

```bash {{ title: 'Ubuntu', language: 'bash' }}
brew install envless
```

```bash {{ title: 'CentOS', language: 'bash' }}
brew install envless
```

```bash {{ title: 'Shell', language: 'bash' }}
brew install envless
```

</CodeGroup>

<Zoom>
  <Image
    src={SetupCli}
    alt="Setup Envless CLI"
    width={1200}
    height={600}
    loading={'lazy'}
  />
</Zoom>

<CodeGroup title="Initialize Envless CLI">
```bash {{ title: 'Command', language: 'bash' }}
envless init --id xxxxxxxx --token xxxxxxxx
```

```bash {{ title: 'Help', language: 'bash' }}
$ envless init --help

Initialize Envless CLI

USAGE
  $ envless init [-i <value>] [-t <value>] [-h]

FLAGS
  -h, --help           Show help for the init command
  -i, --id=<value>     Cli ID
  -t, --token=<value>  Cli Token

DESCRIPTION
  Initialize Envless CLI
  ⚡ Please make sure you have created a project and setup CLI id and token on the
  dashboard. If you do not have a project, create one at
  https://go.envless.dev/projects

EXAMPLES
  $ envless init
  $ envless init --id xxxxxxxx --token xxxxxxxx
```

</CodeGroup>

From your project's root directory run following command to link your project with Envless:

<CodeGroup title="Link your project with Envless project">
  ```bash {{ title: 'Command', language: 'bash' }}
  envless project link --projectId xxxxxxxx
  ```

```bash {{ title: 'Help', language: 'bash' }}
$ envless project link --help

Link your development project to the Envless project.

USAGE
  $ envless project link [-p <value>] [-b <value>] [-h]

FLAGS
  -b, --branch=<value>     [default: development] Envless project branch name
  -h, --help               Show help for the link command
  -p, --projectId=<value>  Envless Project ID

DESCRIPTION
  Link your development project to the Envless project.
  ⚡ Please make sure you are running this command from your development project root
  directory and have created a project. If you have not, create one at
  https://go.envless.dev/projects

EXAMPLES
        $ envless project link
        $ envless project link --projectId xxxxxxxx
        $ envless project link --projectId xxxxxxxx --branch development
```

</CodeGroup>

When you link your project with Envless, it will create a `.envless.yml` file in your project's root directory. This directory will contain the project id and branch name. You can change the branch name in this file to point to a different branch. Its recommended to commit this file to your project's repository.

```yaml {{ title: '.envless.yml' }}
branch: development
projectId: xxxxxxxxxxxxxxxxxxxx
```

## Secure & copy your private key

Run the following command to secure and/or copy your private key. If you are doing this fors the first time, it will securely store your private key in your {`system's`} keychain and copy it to your clipboard. You will be asked to paste the private key on next step and every time you login to your account using a new device.

<CodeGroup title="Secure and/or copy your private key">
  ```bash {{ title: 'Command', language: 'bash' }}
  envless privateKey --secure --copy
  ```

```bash {{ title: 'Help', language: 'bash' }}
$ envless privateKey --help

Securely store your private key to your system\'s keychain and/or copy it to your clipboard.

USAGE
  $ envless privateKey [-s] [-c] [-h]

FLAGS
  -c, --copy    Copy private key from system keychain to your clipboard
  -h, --help    Shows help for the privateKey command
  -s, --secure  Securely store private key to your system keychain

DESCRIPTION
  Securely store your private key to your system keychain and/or copy it to your
  clipboard.

  ⚡ Please make sure you have created a project and downloaded envless.key to your
  downloads folder. If you have not, create one at
  https://go.envless.dev/projects

EXAMPLES
  $ envless privateKey
  $ envless privateKey --secure --copy
```

</CodeGroup>

## Setup end to end encryption

After you hav run the above command, you will have your private key security stored in your {`system's`} keychain and copied to your clipboard. Please paste the private key in the following input field and click on the "Confirm and continue" button.

<Zoom>
  <Image
    src={SetupE2EE}
    alt="Setup end to end encryption"
    width={1200}
    height={600}
    loading={'lazy'}
  />
</Zoom>

## Upload or add your app secrets

You can simply drag and drop your existing `.env`, `.json` or `.yml` file or add your secrets manually. These app secrets will be encrypted on client side using your's and project's private key and stored in the database. Plaintext version of your app secrets will never leave your browser.

<Zoom>
  <Image
    src={DragAndDropSecrets}
    alt="Upload or add your app secrets"
    width={1200}
    height={600}
    loading={'lazy'}
  />
</Zoom>

## Inject secrets and start your app

You are all set. Now you can inject your secrets into your app and start your app using following command:

<CodeGroup title="Inject secrets and start your app">
  ```bash {{ title: 'Command', language: 'bash' }}
  envless start --run="command to start your app"
  ```

```bash {{ title: 'Help', language: 'bash' }}
$ envless start --help

Inject environment variables and run a command.

USAGE
  $ envless start -r <value> [-h]

FLAGS
  -h, --help         Show help for the start command
  -r, --run=<value>  (required) The command to run

DESCRIPTION
  Inject environment variables and run a command.
  ⚡ This command can be used to start your application on production,
  staging, development, review apps, on a CI/CD pipeline, platforms or anywhere else.

ALIASES
  $ envless s

EXAMPLES
  $ envless start -r "yarn dev"
  $ envless start --run "npm run start"
```

</CodeGroup>

<Zoom>
  <Image
    src={InjectAndStartApp}
    alt="Inject secrets and start your app"
    width={1200}
    height={600}
    loading={'lazy'}
  />
</Zoom>
